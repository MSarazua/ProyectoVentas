use BD_UMG

select * from TB_PERSONA

/Ver tablas/
select * from TB_PERSONA;
/Ver tablas/

drop table TB_PERSONA

create table TB_PERSONA(
ID int not null identity(1,1) primary key,
NOMBRE varchar(50),
APELLIDO varchar(50),
SEXO varchar(50),
TIPO_PERSONA varchar(50),
USUARIO varchar(50),
PASS varchar(50)
);

/Ver tablas/
select * from TB_PERSONA;
/Ver tablas/

/Querys/
INSERT  INTO TB_PERSONA(NOMBRE,APELLIDO,SEXO,TIPO_PERSONA,USUARIO,PASS) VALUES ('María', 'Sarazúa', 'F', 'Admin', 'Msarazua', '123')
/Querys/

use BD_UMG
select * from TB_PERSONA;
select * from TB_INVENTARIO;
select * from TB_VENTA;

drop table TB_VENTA;
drop table TB_DETALLE_VENTA;

CREATE TABLE TB_INVENTARIO(
   COD_PRODUTO INT IDENTITY PRIMARY KEY,
   PRODUCTO NVARCHAR(50) NOT NULL,
   DESCRIPCION NVARCHAR(500) NOT NULL,
   CANTIDAD INT NOT NULL,
   PRECIO NUMERIC(9,2) NOT NULL, 
   ESTATUS NVARCHAR(1)
)

select * from TB_PERSONA;
select * from TB_INVENTARIO;
select * from TB_VENTA;
select * from TB_DETALLE_VENTA

drop table TB_VENTA;
drop table TB_DETALLE_VENTA;

CREATE TABLE TB_INVENTARIO(
   COD_PRODUTO INT IDENTITY PRIMARY KEY,
   PRODUCTO NVARCHAR(50) NOT NULL,
   DESCRIPCION NVARCHAR(500) NOT NULL,
   CANTIDAD INT NOT NULL,
   PRECIO NUMERIC(9,2) NOT NULL, 
   ESTATUS NVARCHAR(1)
)

CREATE TABLE TB_VENTA(
    FACTURA INT IDENTITY PRIMARY KEY,
	FECHA NVARCHAR(50), 
	NIT NVARCHAR(15),
	NOMBRE NVARCHAR(100), 
	DIRECCION NVARCHAR(100),
	MONTO_TOTAL NUMERIC(9,2) NOT NULL, 
	CANTIDAD_PRODUCTOS INT,
	ESTATUS NVARCHAR(1)
)

CREATE TABLE TB_DETALLE_VENTA(
    ID INT IDENTITY,
	COD_PRODUTO INT NOT NULL,
	CANTIDAD INT NOT NULL,
	PRECIO NUMERIC(9,2) NOT NULL,
	FACTURA INT NOT NULL, 
)

ALTER TABLE TB_DETALLE_VENTA
ADD CONSTRAINT PK_DETALLE PRIMARY KEY(ID, FACTURA);

ALTER TABLE TB_DETALLE_VENTA
ADD FOREIGN KEY (FACTURA) REFERENCES TB_VENTA(FACTURA);

ALTER TABLE TB_DETALLE_VENTA
ADD FOREIGN KEY (COD_PRODUTO) REFERENCES TB_INVENTARIO(COD_PRODUTO);
